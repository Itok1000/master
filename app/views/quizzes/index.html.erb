<div class="top-wrapper">
<div class="container mt-4">
<div class="col-md-8 mx-auto">
  <div class="card mb-4">
    <div class="card-body">
      <h2 class="card-title h2 text-center">結果</h2>
      <p class="text-center mt-4">正解数: <span class="text-primary font-weight-bold"><%= @correct_count %></span> / <%= @questions.count %></p>
    </div>
  </div>

  <% @questions.each_with_index do |question, index| %>
    <div class="card mb-4">
      <div class="card-body">
        <h3 class="h5 font-weight-bold">問題 <%= index + 1 %>: <%= question.content %></h3>

        <div class="mt-3">
          <p class="font-weight-bold">正解:</p>
          <ul class="list-group list-group-flush">
            <% question.answers.each do |correct_answer| %>
              <li class="list-group-item text-success"><%= correct_answer %></li>
            <% end %>
          </ul>
        </div>

        <!-- 解説 -->
        <div class="mt-3">
          <p class="font-weight-bold">解説:</p>
          <p class="text-muted mt-2"><%= question.explain %></p>
        </div>
      </div>
    </div>
  <% end %>

  <div class="text-center mt-8">
    <a
      href="https://twitter.com/intent/tweet?text=<%= ERB::Util.url_encode("正解数: #{@correct_count} / #{@questions.count} \nジョージアについて、あなたはどのくらい知っている？\n#ガマルジョバ・გამარჯობა\n") %>&url=<%= ERB::Util.url_encode("#{request.protocol}#{request.host_with_port}") %>"
      target="_blank"
      rel="noopener noreferrer"
      class="btn btn-primary bg-black text-white hover:bg-white hover:text-black border-black">
      結果をXでシェア
    </a>
  </div>
  <div class="text-center mt-4 d-flex justify-content-center gap-2">
    <%= link_to 'もう一度やる', new_quiz_path, class: 'btn btn-secondary' %>
    <%= link_to 'TOP', root_path, class: 'btn btn-secondary' %>
  </div>
</div>
</div>
</div>
